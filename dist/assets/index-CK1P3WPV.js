import{r as n,a2 as je,W as Me,J as _e,_ as se,c as x,p as ce,ap as ze,P as de,q as me,M as D,T as fe,S as ie,ab as ve,e as xe,g as He,m as Le,u as Q,b as We,s as Ke,a0 as ge,C as Te}from"./index-isBeRo1b.js";import{P as Be,u as Fe,h as Ae,m as Ve,a4 as Ue}from"./client-D49sAvGJ.js";import{a as Xe}from"./index-CUCRgLKV.js";import{a as Ye,p as he}from"./useClosable-Dwegbn33.js";function be(){}const Ge=n.createContext({add:be,remove:be});function qe(e){const t=n.useContext(Ge),a=n.useRef(null);return je(r=>{if(r){const s=r;s&&(t.add(s),a.current=s)}else t.remove(a.current)})}var pe=n.createContext(null),we=n.createContext({}),Ze=["prefixCls","className","containerRef"],Je=function(t){var a=t.prefixCls,o=t.className,r=t.containerRef,s=Me(t,Ze),c=n.useContext(we),l=c.panel,d=_e(l,r);return n.createElement("div",se({className:x("".concat(a,"-content"),o),role:"dialog",ref:d},ce(t,{aria:!0}),{"aria-modal":"true"},s))};function ye(e){return typeof e=="string"&&String(Number(e))===e?(ze(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Ce={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Qe(e,t){var a,o,r,s=e.prefixCls,c=e.open,l=e.placement,d=e.inline,w=e.push,S=e.forceRender,y=e.autoFocus,E=e.keyboard,v=e.classNames,P=e.rootClassName,u=e.rootStyle,f=e.zIndex,C=e.className,h=e.id,I=e.style,k=e.motion,j=e.width,R=e.height,N=e.children,b=e.mask,p=e.maskClosable,O=e.maskMotion,ee=e.maskClassName,Y=e.maskStyle,K=e.afterOpenChange,L=e.onClose,z=e.onMouseEnter,T=e.onMouseOver,M=e.onMouseLeave,G=e.onClick,te=e.onKeyDown,ne=e.onKeyUp,g=e.styles,B=e.drawerRender,_=n.useRef(),F=n.useRef(),A=n.useRef();n.useImperativeHandle(t,function(){return _.current});var ae=function($){var q=$.keyCode,Z=$.shiftKey;switch(q){case ie.TAB:{if(q===ie.TAB){if(!Z&&document.activeElement===A.current){var J;(J=F.current)===null||J===void 0||J.focus({preventScroll:!0})}else if(Z&&document.activeElement===F.current){var le;(le=A.current)===null||le===void 0||le.focus({preventScroll:!0})}}break}case ie.ESC:{L&&E&&($.stopPropagation(),L($));break}}};n.useEffect(function(){if(c&&y){var m;(m=_.current)===null||m===void 0||m.focus({preventScroll:!0})}},[c]);var oe=n.useState(!1),re=de(oe,2),V=re[0],W=re[1],i=n.useContext(pe),U;typeof w=="boolean"?U=w?{}:{distance:0}:U=w||{};var H=(a=(o=(r=U)===null||r===void 0?void 0:r.distance)!==null&&o!==void 0?o:i==null?void 0:i.pushDistance)!==null&&a!==void 0?a:180,Ee=n.useMemo(function(){return{pushDistance:H,push:function(){W(!0)},pull:function(){W(!1)}}},[H]);n.useEffect(function(){if(c){var m;i==null||(m=i.push)===null||m===void 0||m.call(i)}else{var $;i==null||($=i.pull)===null||$===void 0||$.call(i)}},[c]),n.useEffect(function(){return function(){var m;i==null||(m=i.pull)===null||m===void 0||m.call(i)}},[]);var Pe=n.createElement(me,se({key:"mask"},O,{visible:b&&c}),function(m,$){var q=m.className,Z=m.style;return n.createElement("div",{className:x("".concat(s,"-mask"),q,v==null?void 0:v.mask,ee),style:D(D(D({},Z),Y),g==null?void 0:g.mask),onClick:p&&c?L:void 0,ref:$})}),Re=typeof k=="function"?k(l):k,X={};if(V&&H)switch(l){case"top":X.transform="translateY(".concat(H,"px)");break;case"bottom":X.transform="translateY(".concat(-H,"px)");break;case"left":X.transform="translateX(".concat(H,"px)");break;default:X.transform="translateX(".concat(-H,"px)");break}l==="left"||l==="right"?X.width=ye(j):X.height=ye(R);var De={onMouseEnter:z,onMouseOver:T,onMouseLeave:M,onClick:G,onKeyDown:te,onKeyUp:ne},Ie=n.createElement(me,se({key:"panel"},Re,{visible:c,forceRender:S,onVisibleChanged:function($){K==null||K($)},removeOnLeave:!1,leavedClassName:"".concat(s,"-content-wrapper-hidden")}),function(m,$){var q=m.className,Z=m.style,J=n.createElement(Je,se({id:h,containerRef:$,prefixCls:s,className:x(C,v==null?void 0:v.content),style:D(D({},I),g==null?void 0:g.content)},ce(e,{aria:!0}),De),N);return n.createElement("div",se({className:x("".concat(s,"-content-wrapper"),v==null?void 0:v.wrapper,q),style:D(D(D({},X),Z),g==null?void 0:g.wrapper)},ce(e,{data:!0})),B?B(J):J)}),ue=D({},u);return f&&(ue.zIndex=f),n.createElement(pe.Provider,{value:Ee},n.createElement("div",{className:x(s,"".concat(s,"-").concat(l),P,fe(fe({},"".concat(s,"-open"),c),"".concat(s,"-inline"),d)),style:ue,tabIndex:-1,ref:_,onKeyDown:ae},Pe,n.createElement("div",{tabIndex:0,ref:F,style:Ce,"aria-hidden":"true","data-sentinel":"start"}),Ie,n.createElement("div",{tabIndex:0,ref:A,style:Ce,"aria-hidden":"true","data-sentinel":"end"})))}var et=n.forwardRef(Qe),tt=function(t){var a=t.open,o=a===void 0?!1:a,r=t.prefixCls,s=r===void 0?"rc-drawer":r,c=t.placement,l=c===void 0?"right":c,d=t.autoFocus,w=d===void 0?!0:d,S=t.keyboard,y=S===void 0?!0:S,E=t.width,v=E===void 0?378:E,P=t.mask,u=P===void 0?!0:P,f=t.maskClosable,C=f===void 0?!0:f,h=t.getContainer,I=t.forceRender,k=t.afterOpenChange,j=t.destroyOnClose,R=t.onMouseEnter,N=t.onMouseOver,b=t.onMouseLeave,p=t.onClick,O=t.onKeyDown,ee=t.onKeyUp,Y=t.panelRef,K=n.useState(!1),L=de(K,2),z=L[0],T=L[1],M=n.useState(!1),G=de(M,2),te=G[0],ne=G[1];ve(function(){ne(!0)},[]);var g=te?o:!1,B=n.useRef(),_=n.useRef();ve(function(){g&&(_.current=document.activeElement)},[g]);var F=function(V){var W;if(T(V),k==null||k(V),!V&&_.current&&!((W=B.current)!==null&&W!==void 0&&W.contains(_.current))){var i;(i=_.current)===null||i===void 0||i.focus({preventScroll:!0})}},A=n.useMemo(function(){return{panel:Y}},[Y]);if(!I&&!z&&!g&&j)return null;var ae={onMouseEnter:R,onMouseOver:N,onMouseLeave:b,onClick:p,onKeyDown:O,onKeyUp:ee},oe=D(D({},t),{},{open:g,prefixCls:s,placement:l,autoFocus:w,keyboard:y,width:v,mask:u,maskClosable:C,inline:h===!1,afterOpenChange:F,ref:B},ae);return n.createElement(we.Provider,{value:A},n.createElement(Be,{open:g||I||z,autoDestroy:!1,getContainer:h,autoLock:u&&(g||z)},n.createElement(et,oe)))};const Se=e=>{var t,a;const{prefixCls:o,ariaId:r,title:s,footer:c,extra:l,closable:d,loading:w,onClose:S,headerStyle:y,bodyStyle:E,footerStyle:v,children:P,classNames:u,styles:f}=e,C=xe("drawer");let h;d===!1?h=void 0:d===void 0||d===!0?h="start":h=(d==null?void 0:d.placement)==="end"?"end":"start";const I=n.useCallback(b=>n.createElement("button",{type:"button",onClick:S,className:x(`${o}-close`,{[`${o}-close-${h}`]:h==="end"})},b),[S,o,h]),[k,j]=Ye(he(e),he(C),{closable:!0,closeIconRender:I}),R=()=>{var b,p;return!s&&!k?null:n.createElement("div",{style:Object.assign(Object.assign(Object.assign({},(b=C.styles)===null||b===void 0?void 0:b.header),y),f==null?void 0:f.header),className:x(`${o}-header`,{[`${o}-header-close-only`]:k&&!s&&!l},(p=C.classNames)===null||p===void 0?void 0:p.header,u==null?void 0:u.header)},n.createElement("div",{className:`${o}-header-title`},h==="start"&&j,s&&n.createElement("div",{className:`${o}-title`,id:r},s)),l&&n.createElement("div",{className:`${o}-extra`},l),h==="end"&&j)},N=()=>{var b,p;if(!c)return null;const O=`${o}-footer`;return n.createElement("div",{className:x(O,(b=C.classNames)===null||b===void 0?void 0:b.footer,u==null?void 0:u.footer),style:Object.assign(Object.assign(Object.assign({},(p=C.styles)===null||p===void 0?void 0:p.footer),v),f==null?void 0:f.footer)},c)};return n.createElement(n.Fragment,null,R(),n.createElement("div",{className:x(`${o}-body`,u==null?void 0:u.body,(t=C.classNames)===null||t===void 0?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},(a=C.styles)===null||a===void 0?void 0:a.body),E),f==null?void 0:f.body)},w?n.createElement(Xe,{active:!0,title:!1,paragraph:{rows:5},className:`${o}-body-skeleton`}):P),N())},nt=e=>{const t="100%";return{left:`translateX(-${t})`,right:`translateX(${t})`,top:`translateY(-${t})`,bottom:`translateY(${t})`}[e]},ke=(e,t)=>({"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}),Oe=(e,t)=>Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:`all ${t}`}}},ke({opacity:e},{opacity:1})),at=(e,t)=>[Oe(.7,t),ke({transform:nt(e)},{transform:"none"})],ot=e=>{const{componentCls:t,motionDurationSlow:a}=e;return{[t]:{[`${t}-mask-motion`]:Oe(0,a),[`${t}-panel-motion`]:["left","right","top","bottom"].reduce((o,r)=>Object.assign(Object.assign({},o),{[`&-${r}`]:at(r,a)}),{})}}},rt=e=>{const{borderRadiusSM:t,componentCls:a,zIndexPopup:o,colorBgMask:r,colorBgElevated:s,motionDurationSlow:c,motionDurationMid:l,paddingXS:d,padding:w,paddingLG:S,fontSizeLG:y,lineHeightLG:E,lineWidth:v,lineType:P,colorSplit:u,marginXS:f,colorIcon:C,colorIconHover:h,colorBgTextHover:I,colorBgTextActive:k,colorText:j,fontWeightStrong:R,footerPaddingBlock:N,footerPaddingInline:b,calc:p}=e,O=`${a}-content-wrapper`;return{[a]:{position:"fixed",inset:0,zIndex:o,pointerEvents:"none",color:j,"&-pure":{position:"relative",background:s,display:"flex",flexDirection:"column",[`&${a}-left`]:{boxShadow:e.boxShadowDrawerLeft},[`&${a}-right`]:{boxShadow:e.boxShadowDrawerRight},[`&${a}-top`]:{boxShadow:e.boxShadowDrawerUp},[`&${a}-bottom`]:{boxShadow:e.boxShadowDrawerDown}},"&-inline":{position:"absolute"},[`${a}-mask`]:{position:"absolute",inset:0,zIndex:o,background:r,pointerEvents:"auto"},[O]:{position:"absolute",zIndex:o,maxWidth:"100vw",transition:`all ${c}`,"&-hidden":{display:"none"}},[`&-left > ${O}`]:{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft},[`&-right > ${O}`]:{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight},[`&-top > ${O}`]:{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp},[`&-bottom > ${O}`]:{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown},[`${a}-content`]:{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:s,pointerEvents:"auto"},[`${a}-header`]:{display:"flex",flex:0,alignItems:"center",padding:`${Q(w)} ${Q(S)}`,fontSize:y,lineHeight:E,borderBottom:`${Q(v)} ${P} ${u}`,"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}},[`${a}-extra`]:{flex:"none"},[`${a}-close`]:Object.assign({display:"inline-flex",width:p(y).add(d).equal(),height:p(y).add(d).equal(),borderRadius:t,justifyContent:"center",alignItems:"center",color:C,fontWeight:R,fontSize:y,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:`all ${l}`,textRendering:"auto",[`&${a}-close-end`]:{marginInlineStart:f},[`&:not(${a}-close-end)`]:{marginInlineEnd:f},"&:hover":{color:h,backgroundColor:I,textDecoration:"none"},"&:active":{backgroundColor:k}},We(e)),[`${a}-title`]:{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:y,lineHeight:E},[`${a}-body`]:{flex:1,minWidth:0,minHeight:0,padding:S,overflow:"auto",[`${a}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center"}},[`${a}-footer`]:{flexShrink:0,padding:`${Q(N)} ${Q(b)}`,borderTop:`${Q(v)} ${P} ${u}`},"&-rtl":{direction:"rtl"}}}},st=e=>({zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}),$e=He("Drawer",e=>{const t=Le(e,{});return[rt(t),ot(t)]},st);var Ne=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]]);return a};const lt={distance:180},it=e=>{const{rootClassName:t,width:a,height:o,size:r="default",mask:s=!0,push:c=lt,open:l,afterOpenChange:d,onClose:w,prefixCls:S,getContainer:y,panelRef:E=null,style:v,className:P,"aria-labelledby":u,visible:f,afterVisibleChange:C,maskStyle:h,drawerStyle:I,contentWrapperStyle:k,destroyOnClose:j,destroyOnHidden:R}=e,N=Ne(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","panelRef","style","className","aria-labelledby","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle","destroyOnClose","destroyOnHidden"]),b=Fe(),p=N.title?b:void 0,{getPopupContainer:O,getPrefixCls:ee,direction:Y,className:K,style:L,classNames:z,styles:T}=xe("drawer"),M=ee("drawer",S),[G,te,ne]=$e(M),g=y===void 0&&O?()=>O(document.body):y,B=x({"no-mask":!s,[`${M}-rtl`]:Y==="rtl"},t,te,ne),_=n.useMemo(()=>a??(r==="large"?736:378),[a,r]),F=n.useMemo(()=>o??(r==="large"?736:378),[o,r]),A={motionName:ge(M,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},ae=H=>({motionName:ge(M,`panel-motion-${H}`),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}),oe=qe(),re=Ke(E,oe),[V,W]=Ae("Drawer",N.zIndex),{classNames:i={},styles:U={}}=N;return G(n.createElement(Ve,{form:!0,space:!0},n.createElement(Ue.Provider,{value:W},n.createElement(tt,Object.assign({prefixCls:M,onClose:w,maskMotion:A,motion:ae},N,{classNames:{mask:x(i.mask,z.mask),content:x(i.content,z.content),wrapper:x(i.wrapper,z.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},U.mask),h),T.mask),content:Object.assign(Object.assign(Object.assign({},U.content),I),T.content),wrapper:Object.assign(Object.assign(Object.assign({},U.wrapper),k),T.wrapper)},open:l??f,mask:s,push:c,width:_,height:F,style:Object.assign(Object.assign({},L),v),className:x(K,P),rootClassName:B,getContainer:g,afterOpenChange:d??C,panelRef:re,zIndex:V,"aria-labelledby":u??p,destroyOnClose:R??j}),n.createElement(Se,Object.assign({prefixCls:M},N,{ariaId:p,onClose:w}))))))},ct=e=>{const{prefixCls:t,style:a,className:o,placement:r="right"}=e,s=Ne(e,["prefixCls","style","className","placement"]),{getPrefixCls:c}=n.useContext(Te),l=c("drawer",t),[d,w,S]=$e(l),y=x(l,`${l}-pure`,`${l}-${r}`,w,S,o);return d(n.createElement("div",{className:y,style:a},n.createElement(Se,Object.assign({prefixCls:l},s))))};it._InternalPanelDoNotUseOrYouWillBeFired=ct;export{it as D};
